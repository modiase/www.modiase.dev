// =============================================================================
// COLOR PALETTES
// =============================================================================

// Light theme color palette
$light-primary: #e2984f;
$light-primary-hover: #d18a3f;
$light-secondary: #e5ad76;
$light-accent: #ecc299;
$light-light: #f2d7bb;
$light-lightest: #f8ebde;
$light-background: #fdf8f3;

$light-text-primary: #042f24;
$light-text-secondary: #064e3b;
$light-text-muted: #666;
$light-text-dark: #022c22;

$light-link-default: #059669;
$light-link-active: #047857;

$light-surface: #{color-mix(in srgb, #{$light-lightest} 70%, #{$light-light} 30%)};
$light-surface-alt: #{$light-lightest};
$light-contrast: #{$light-accent};
$light-subtle: #{color-mix(in srgb, #{$light-background} 75%, #{$light-text-muted} 25%)};

// Dark theme color palette
$dark-primary: #434c5e;
$dark-primary-hover: #3b4252;
$dark-secondary: #4c566a;
$dark-accent: #d8dee9;
$dark-light: #e5e9f0;
$dark-lightest: #eceff4;
$dark-background: #12161a;

$dark-text-primary: #eceff4;
$dark-text-secondary: #d8dee9;
$dark-text-muted: #4c566a;
$dark-text-dark: #eceff4;

$dark-link-default: #88c0d0;
$dark-link-active: #8fbcbb;

$dark-surface: #3b4252;
$dark-surface-alt: #1a1f2e;
$dark-contrast: #{color-mix(in srgb, #d8dee9 65%, #88c0d0 35%)};
$dark-subtle: #{color-mix(in srgb, #{$dark-background} 70%, #{$dark-text-muted} 30%)};

// Semantic colors (shared across themes)
$success: #28a745;
$success-bg: #d4edda;
$success-text: #155724;
$success-border: #c3e6cb;

$error: #dc3545;
$error-bg: #f8d7da;
$error-text: #721c24;
$error-border: #f5c6cb;

$warning: #ffc107;
$warning-bg: #fff3cd;
$warning-text: #856404;
$warning-border: #ffeaa7;

// =============================================================================
// SCSS MIXINS AND FUNCTIONS
// =============================================================================

@mixin generate-transparent-variants($base-color, $prefix) {
  @for $i from 1 through 9 {
    $opacity: $i * 10;
    --color-#{$prefix}-#{$opacity}: #{color-mix(
        in srgb,
        #{$base-color} #{$opacity * 1%},
        transparent
      )};
  }
  --color-#{$prefix}-100: #{$base-color};
}

@mixin generate-semantic-colors($name, $color, $bg, $text, $border) {
  --color-#{$name}: #{$color};
  --color-#{$name}-bg: #{$bg};
  --color-#{$name}-text: #{$text};
  --color-#{$name}-border: #{$border};
}

// =============================================================================
// CSS CUSTOM PROPERTIES
// =============================================================================

:root {
  // Legacy mode variable (unused but kept for compatibility)
  --mode: light;

  // Light theme colors
  --color-primary: #{$light-primary};
  --color-primary-hover: #{$light-primary-hover};
  --color-secondary: #{$light-secondary};
  --color-accent: #{$light-accent};
  --color-light: #{$light-light};
  --color-lightest: #{$light-lightest};
  --color-background: #{$light-background};

  // Text colors
  --text-primary: #{$light-text-primary};
  --text-secondary: #{$light-text-secondary};
  --text-muted: #{$light-text-muted};
  --text-dark: #{$light-text-dark};

  // Semantic colors
  @include generate-semantic-colors(
    'success',
    $success,
    $success-bg,
    $success-text,
    $success-border
  );
  @include generate-semantic-colors('error', $error, $error-bg, $error-text, $error-border);
  @include generate-semantic-colors(
    'warning',
    $warning,
    $warning-bg,
    $warning-text,
    $warning-border
  );

  // UI colors
  --color-white: white;
  --color-disabled: #{$light-accent};
  --color-border: #{$light-text-primary};
  --color-border-light: #{$light-accent};
  --color-contrast: #{$light-contrast};
  --color-subtle: #{$light-subtle};
  --color-link-default: #{$light-link-default};
  --color-link-active: #{$light-link-active};
  --color-surface: #{$light-surface};
  --color-surface-alt: #{$light-surface-alt};

  // Surface transparent variants
  @include generate-transparent-variants($light-surface-alt, 'surface-transparent');
  @include generate-transparent-variants($light-light, 'surface-transparent-alt');
}

// Dark theme overrides
:root[data-theme='dark'] {
  // Core colors
  --color-primary: #{$dark-primary};
  --color-primary-hover: #{$dark-primary-hover};
  --color-secondary: #{$dark-secondary};
  --color-accent: #{$dark-accent};
  --color-light: #{$dark-light};
  --color-lightest: #{$dark-lightest};
  --color-background: #{$dark-background};

  // Text colors
  --text-primary: #{$dark-text-primary};
  --text-secondary: #{$dark-text-secondary};
  --text-muted: #{$dark-text-muted};
  --text-dark: #{$dark-text-dark};

  // UI colors
  --color-white: #{$dark-surface};
  --color-disabled: #{$dark-secondary};
  --color-border: #{$dark-primary};
  --color-border-light: #{$dark-secondary};
  --color-contrast: #{$dark-contrast};
  --color-subtle: #{$dark-subtle};
  --color-link-default: #{$dark-link-default};
  --color-link-active: #{$dark-link-active};
  --color-surface: #{$dark-surface};
  --color-surface-alt: #{$dark-surface-alt};

  // Surface transparent variants
  @include generate-transparent-variants($dark-surface, 'surface-transparent');
  @include generate-transparent-variants($dark-surface-alt, 'surface-transparent-alt');
}

// =============================================================================
// LEGACY SCSS VARIABLES (for backward compatibility)
// =============================================================================
$color-primary: $light-primary;
$color-secondary: $light-secondary;
$color-text-primary: $light-text-primary;
$color-text-secondary: $light-text-secondary;
$color-bg: $light-background;
$color-error: $error;
